<mvc:View
	controllerName="projectX.view.Master"
	displayBlock="true"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:l="sap.ui.layout"
	xmlns:core="sap.ui.core"
	xmlns:u="sap.ui.unified"
	xmlns="sap.m">
	<Page
		id="page"
		>
		<customHeader>
			<Bar>
				<contentMiddle>
					<l:FixFlex 	vertical="false" 
								fixFirst="false">
						<l:fixContent>
							<Button icon="sap-icon://edit"
									tooltip="Edit project"
									press="onEditProject"/>
							<Button icon="sap-icon://create"
									tooltip="Add new project"
									press="onAddNewProject"/>
						 </l:fixContent>
						 <l:flexContent>
						     <Select width="100%"
						     		 items="{/Projects}"
						     		 change="onSelectProjectChange"
						     		>
						     	<core:Item text="{mProperties/name}" />
							</Select>
					     </l:flexContent>
					</l:FixFlex>
				</contentMiddle>
			</Bar>
    	</customHeader>
		<subHeader>
			<Bar>
				<contentRight>
					<u:FileUploader
						change="onFileUploaderChange"
						buttonText="Import"
						tooltip="Load a local file from disk"
						buttonOnly="true"
						/>
					<Button
						text="Export"
						tooltip="Export"
						press="onExport" />
					<Button
						text="Load"
						tooltip="Load"
						press="onLoad" />
					<Button
						text="Save"
						tooltip="Save"
						press="onSave" />
				</contentRight>
			</Bar>
    	</subHeader>
		<content>
			<List
				id="list"
				items="{/SelectedProject/mAggregations/requests}"
				mode="{device>/listMode}"
				select="onSelect"
				growing="true"
				growingScrollToLoad="true"
				updateFinished="onListUpdateFinished">
				<items>
					<StandardListItem title="{mProperties/name}"/>
				</items>
			</List>
		</content>
		<footer>
			<Toolbar>
				<Button
					icon="sap-icon://up"
					tooltip="Move request up"
					press="onMoveRequestUp" />
				<Button
					icon="sap-icon://down"
					tooltip="Move request down"
					press="onMoveRequestDown" />
				<ToolbarSpacer/>
				<Button
					icon="sap-icon://play"
					tooltip="TestRun"
					press="onTestRun" />
				<ToolbarSpacer/>
				<Button
					icon="sap-icon://sys-add"
					tooltip="Add Request from metadata"
					press="onAddRequestMetadata" />
				<Button
					icon="sap-icon://add"
					tooltip="Add Request"
					press="onAddRequest" />
			</Toolbar>
		</footer>
	</Page>
</mvc:View>