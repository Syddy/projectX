<mvc:View
	controllerName="projectX.view.Master.Master"
	displayBlock="true"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:l="sap.ui.layout"
	xmlns:core="sap.ui.core"
	xmlns:u="sap.ui.unified"
	xmlns="sap.m">
	<Page
		id="page"
		enableScrolling="false"
		>
		<customHeader>
			<Bar>
				<contentRight>
					<Label text="{/SelectedProject/mProperties/name}"/>
					<u:FileUploader
						change="onFileUploaderChange"
						buttonText="Import"
						tooltip="Load a local file from disk"
						buttonOnly="true"
						/>
					<Button
						text="Export"
						tooltip="Export"
						press="onExport" />
				</contentRight>
			</Bar>
    	</customHeader>
		<content>
			<SegmentedButton selectedButton="idButtonProjects"
							select="onSegmentedButtonSelect">
						<Button text="Projects" id="idButtonProjects" />
						<Button text="Requests {/SelectedProject/mAggregations/requests/length}" 
							id="idButtonRequests" />
	          <Button text="Sequences {/SelectedProject/mAggregations/sequences/length}" id="idButtonSequences" />
        </SegmentedButton>

			<ScrollContainer
				visible="{= ${localUIModel>/visibleTab} === 'PROJECTS'}"
				height="100%"
				width="100%"
				horizontal="false"
				vertical="true">
				<List
					id="idListProjects"
					items="{/Projects}"
					mode="SingleSelectMaster"
					select="onProjectsListSelect"
					>
					<items>
						<StandardListItem title="{mProperties/name}"/>
					</items>
				</List>
			</ScrollContainer>
			<ScrollContainer
				visible="{= ${localUIModel>/visibleTab} === 'REQUESTS'}"
				height="100%"
				width="100%"
				horizontal="false"
				vertical="true" >
				<SearchField liveChange="onRequestSearch"
					width="100%" />
				<List
					id="idListRequests"
					items="{/SelectedProject/mAggregations/requests}"
					mode="{device>/listMode}"
					select="onRequestsListSelect"
					updateFinished="onListUpdateFinished">
					<items>
						<StandardListItem title="{mProperties/name}"/>
					</items>
				</List>
			</ScrollContainer>
			<ScrollContainer
				visible="{= ${localUIModel>/visibleTab} === 'SEQUENCES'}"
				height="100%"
				width="100%"
				horizontal="false"
				vertical="true" >
				<SearchField liveChange="onSequenceSearch"
					width="100%" />
				<List
					id="idListSequences"
					items="{/SelectedProject/mAggregations/sequences}"
					mode="{device>/listMode}"
					select="onSequencesListSelect"
					>
					<items>
						<StandardListItem title="{mProperties/name}"/>
					</items>
				</List>
			</ScrollContainer>
		</content>
		<footer>
			<Toolbar>
				<Button icon="sap-icon://create"
						tooltip="Add new project"
						press="onAddNewProject"/>
				<ToolbarSpacer/>
				<Button
					icon="sap-icon://up"
					tooltip="Move request up"
					press="onMoveRequestUp" />
				<Button
					icon="sap-icon://down"
					tooltip="Move request down"
					press="onMoveRequestDown" />
				<ToolbarSpacer/>

				<Button
					icon="sap-icon://add"
					tooltip="Add Sequence"
					press="onAddNewSequence" />
				<Button
					icon="sap-icon://sys-add"
					tooltip="Add Request from metadata"
					press="onAddRequestMetadata" />
				<Button
					icon="sap-icon://add"
					tooltip="Add Request"
					press="onAddRequest" />
			</Toolbar>
		</footer>
	</Page>
</mvc:View>
